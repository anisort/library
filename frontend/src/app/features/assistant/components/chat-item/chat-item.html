<li class="chat-item">
  @if (!isEditing) {
    <a [routerLink]="[chat.id]" routerLinkActive="active">{{ chat.title }}</a>
    <button class="more-btn" (click)="toggleMenu($event)">â‹¯</button>
  } @else {
    <div class="edit-container" (click)="$event.stopPropagation()" #editContainer>
      <input
        type="text"
        [formControl]="titleControl"
        [class.invalid]="titleControl.invalid && titleControl.touched"
      />
      <button type="button" (click)="confirmEdit()">Confirm</button>
    </div>
  }
  @if (isOpen) {
    <div class="menu" (click)="$event.stopPropagation()" #menu>
      <button (click)="startEditLocal(); menuToggle.emit()">Rename</button>
      <button (click)="requestDelete(); menuToggle.emit()">Delete</button>
    </div>
  }
</li>
